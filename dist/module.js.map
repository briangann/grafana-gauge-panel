{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"d3\"","webpack:///external \"lodash\"","webpack:///external \"app/core/utils/kbn\"","webpack:///external \"app/plugins/sdk\"","webpack:///external \"jquery\"","webpack:///external \"app/core/time_series2\"","webpack:///../node_modules/tslib/tslib.es6.js","webpack:///./defaults.ts","webpack:///./libs/d3gauge.ts","webpack:///./ctrl.ts","webpack:///./module.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","__WEBPACK_EXTERNAL_MODULE__4__","__WEBPACK_EXTERNAL_MODULE__5__","extendStatics","b","setPrototypeOf","__proto__","Array","panelDefaults","fontSizes","fontTypes","unitFormats","getUnitFormats","operatorNameOptions","valueMaps","op","text","mappingTypes","rangeMaps","from","to","tickMaps","mappingType","thresholds","colors","decimals","format","operatorName","gauge","minValue","maxValue","tickSpaceMinVal","tickSpaceMajVal","gaugeUnits","gaugeRadius","pivotRadius","padding","edgeWidth","tickEdgeGap","tickLengthMaj","tickLengthMin","needleTickGap","needleLengthNeg","ticknessGaugeBasis","needleWidth","tickWidthMaj","tickWidthMin","unitsLabelFontSize","labelFontSize","zeroTickAngle","maxTickAngle","zeroNeedleAngle","maxNeedleAngle","outerEdgeCol","innerCol","pivotCol","needleCol","unitsLabelCol","tickLabelCol","tickColMaj","tickColMin","tickFont","unitsFont","valueYOffset","showThresholdOnGauge","showThresholdColorOnValue","showLowerThresholdRange","showMiddleThresholdRange","showUpperThresholdRange","animateNeedleValueTransition","animateNeedleValueTransitionSpeed","svg","opt","this","initOptDefaults","needleLengthPos","needlePathLength","needlePathStart","tickStartMaj","tickStartMin","labelStart","innerEdgeRadius","outerEdgeRadius","originX","originY","valueScale","domain","minVal","maxVal","range","counter","tickAnglesMaj","tickAnglesMin","tickSpacingMajDeg","tickSpacingMinDeg","push","j","exists","forEach","tickLabelText","k","tickValue","parts","toString","split","tickText","length","Number","toFixed","tickTextFloat","parseFloat","aTickMap","circleGroup","createCircleGroup","boundaries","drawBand","thresholdColors","pathTickMaj","tickCalcMaj","pathTickMin","tickCalcMin","ticks","append","attr","ticksMin","ticksMaj","selectAll","data","enter","style","labelXcalc","labelYcalc","valueLabelParent","valueLabel","y","needleValText","needleAngle","pathNeedle","needleCalc","needleGroup","needlePath","transitionSpeed","transition","duration","ease","attrTween","a","needleVal","needleCentre","needleRot","updateGauge","newVal","newValFormatted","newValRounded","undefined","oldVal","needleAngleOld","needleAngleNew","valueThresholdColor","defaultFonts","start","end","color","startAngle","valueToRadians","endAngle","innerRadius","outerRadius","valueToDegrees","degreeRange","Math","PI","tickAngleRad","dToR","y1","sin","y2","x1","cos","x2","nAngleRad","labelW","angleDeg","$scope","$injector","alertSrv","defaults","panel","gaugeDivId","id","containerDivId","scoperef","alertSrvRef","initialized","panelContainer","svgContainer","panelWidth","panelHeight","gaugeObject","valueFormatted","valueRounded","series","events","on","onInitEditMode","onDataReceived","onDataError","__","constructor","thisPanelPath","type","optionsPath","addEditorTab","radialMetricsPath","thresholdingPath","mappingsPath","setContainer","container","getPanelWidthBySpan","trueWidth","span","offsetParent","clientWidth","pixelsPerSpan","max","document","documentElement","window","innerWidth","round","getPanelHeight","tmpPanelHeight","height","String","panelTitleOffset","title","containerHeight","row","replace","parseInt","renderGauge","setValues","remove","margin","top","right","bottom","left","tmpGaugeRadius","verticalOffset","classed","getValueText","getValueRounded","removeValueMap","map","index","indexOf","splice","render","addValueMap","removeRangeMap","rangeMap","addRangeMap","addTickMap","removeTickMap","tickMap","validateLimitsMinValue","set","validateLimitsMaxValue","validateTransitionValue","validateGaugeTickDegreeValues","isNaN","gaugeTickDegrees","validateGaugeNeedleDegreeValues","gaugeNeedleDegrees","validateRadialMetricValues","link","scope","elem","attrs","ctrl","gaugeByClass","find","childNodes","renderingCompleted","getDecimalsForValue","isNumber","scaledDecimals","delta","dec","floor","log","LN10","magn","pow","norm","size","result","flotpairs","error","Error","message","stack","JSON","stringify","lastPoint","last","datapoints","lastValue","isArray","alias","isString","escape","stats","decimalInfo","formatFunc","valueFormats","roundValue","scopedVars","__name","label","setUnitFormat","subItem","err","dataList","seriesHandler","seriesData","target","getFlotPairs","nullPointMode","invertColorOrder","tmp","templateUrl","dark","light"],"mappings":"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","file":"module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import kbn from 'grafana/app/core/utils/kbn';\n\nexport const panelDefaults = {\n  fontSizes: [\n    4,\n    5,\n    6,\n    7,\n    8,\n    9,\n    10,\n    11,\n    12,\n    13,\n    14,\n    15,\n    16,\n    17,\n    18,\n    19,\n    20,\n    22,\n    24,\n    26,\n    28,\n    30,\n    32,\n    34,\n    36,\n    38,\n    40,\n    42,\n    44,\n    46,\n    48,\n    50,\n    52,\n    54,\n    56,\n    58,\n    60,\n    62,\n    64,\n    66,\n    68,\n    70,\n  ],\n  fontTypes: [\n    'Arial',\n    'Avant Garde',\n    'Bookman',\n    'Consolas',\n    'Courier',\n    'Courier New',\n    'Garamond',\n    'Helvetica',\n    'Open Sans',\n    'Palatino',\n    'Times',\n    'Times New Roman',\n    'Verdana',\n  ],\n  unitFormats: kbn.getUnitFormats(),\n  operatorNameOptions: ['min', 'max', 'avg', 'current', 'total', 'name'],\n  valueMaps: [{ value: 'null', op: '=', text: 'N/A' }],\n  mappingTypes: [\n    { name: 'value to text', value: 1 },\n    { name: 'range to text', value: 2 },\n  ],\n  rangeMaps: [{ from: 'null', to: 'null', text: 'N/A' }],\n  tickMaps: [],\n  mappingType: 1,\n  thresholds: '',\n  colors: ['rgba(245, 54, 54, 0.9)', 'rgba(237, 129, 40, 0.89)', 'rgba(50, 172, 45, 0.97)'],\n  decimals: 2, // decimal precision\n  format: 'none', // unit format\n  operatorName: 'avg', // operator applied to time series\n  gauge: {\n    minValue: 0,\n    maxValue: 100,\n    tickSpaceMinVal: 1,\n    tickSpaceMajVal: 10,\n    gaugeUnits: '', // no units by default, this will be selected by user\n    gaugeRadius: 0, // 0 for auto-scale\n    pivotRadius: 0.1,\n    padding: 0.05,\n    edgeWidth: 0.05,\n    tickEdgeGap: 0.05,\n    tickLengthMaj: 0.15,\n    tickLengthMin: 0.05,\n    needleTickGap: 0.05,\n    needleLengthNeg: 0.2,\n    ticknessGaugeBasis: 200,\n    needleWidth: 5,\n    tickWidthMaj: 5,\n    tickWidthMin: 1,\n    unitsLabelFontSize: 22,\n    labelFontSize: 18,\n    zeroTickAngle: 60,\n    maxTickAngle: 300,\n    zeroNeedleAngle: 40,\n    maxNeedleAngle: 320,\n    outerEdgeCol: '#0099CC',\n    innerCol: '#fff',\n    pivotCol: '#999',\n    needleCol: '#0099CC',\n    unitsLabelCol: '#000',\n    tickLabelCol: '#000',\n    tickColMaj: '#0099CC',\n    tickColMin: '#000',\n    tickFont: 'Open Sans',\n    unitsFont: 'Open Sans',\n    valueYOffset: 0,\n    showThresholdOnGauge: false,\n    showThresholdColorOnValue: false,\n    showLowerThresholdRange: false,\n    showMiddleThresholdRange: true,\n    showUpperThresholdRange: true,\n    animateNeedleValueTransition: true,\n    animateNeedleValueTransitionSpeed: 100,\n  },\n};\n","import * as d3 from 'd3';\n\nexport class DrawGauge {\n  defaultFonts: any;\n  opt: any;\n  svg: any;\n  circleGroup: any;\n  originX: any;\n  originY: any;\n  needleLengthPos: any;\n  needlePathLength: any;\n  needlePathStart: any;\n  tickStartMaj: any;\n  tickStartMin: any;\n  labelStart: any;\n  innerEdgeRadius: any;\n  outerEdgeRadius: any;\n  textContent: any;\n  needleGroup: any;\n  valueLabelParent: any;\n  valueLabel: any;\n  tickLabelText: any;\n  valueScale: any;\n  tickAnglesMaj: any;\n  tickAnglesMin: any;\n  tickSpacingMajDeg: any;\n  tickSpacingMinDeg: any;\n\n  constructor(svg: any, opt: any) {\n    this.svg = svg;\n    // Set defaults if not supplied\n    this.opt = this.initOptDefaults(opt);\n    // Calculate required values\n    this.needleLengthPos = opt.gaugeRadius - opt.padding - opt.edgeWidth - opt.tickEdgeGap - opt.tickLengthMaj - opt.needleTickGap;\n    this.needlePathLength = opt.needleLengthNeg + this.needleLengthPos;\n    this.needlePathStart = opt.needleLengthNeg * -1;\n    this.tickStartMaj = opt.gaugeRadius - opt.padding - opt.edgeWidth - opt.tickEdgeGap - opt.tickLengthMaj;\n    this.tickStartMin = opt.gaugeRadius - opt.padding - opt.edgeWidth - opt.tickEdgeGap - opt.tickLengthMin;\n    this.labelStart = this.tickStartMaj - opt.labelFontSize;\n    this.innerEdgeRadius = opt.gaugeRadius - opt.padding - opt.edgeWidth;\n    this.outerEdgeRadius = opt.gaugeRadius - opt.padding;\n    this.originX = opt.gaugeRadius;\n    this.originY = opt.gaugeRadius;\n\n    // Define a linear scale to convert values to needle displacement angle (degrees)\n    this.valueScale = d3\n      .scaleLinear()\n      .domain([this.opt.minVal, this.opt.maxVal])\n      .range([this.opt.zeroTickAngle, this.opt.maxTickAngle]);\n    // Calculate tick mark angles (degrees)\n    let counter = 0;\n    this.tickAnglesMaj = [];\n    this.tickAnglesMin = [];\n    this.tickSpacingMajDeg = this.valueScale(this.opt.tickSpaceMajVal) - this.valueScale(0);\n    this.tickSpacingMinDeg = this.valueScale(this.opt.tickSpaceMinVal) - this.valueScale(0);\n    for (let i = this.opt.zeroTickAngle; i <= this.opt.maxTickAngle; i = i + this.tickSpacingMajDeg) {\n      const tickAngle = this.opt.zeroTickAngle + this.tickSpacingMajDeg * counter;\n      // check if this is the \"end\" of a full circle, and skip the last tick marker\n      if (tickAngle - this.opt.zeroTickAngle < 360) {\n        this.tickAnglesMaj.push(opt.zeroTickAngle + this.tickSpacingMajDeg * counter);\n      }\n      counter++;\n    }\n    counter = 0;\n    for (let j = opt.zeroTickAngle; j <= opt.maxTickAngle; j = j + this.tickSpacingMinDeg) {\n      // Check for an existing major tick angle\n      let exists = 0;\n      this.tickAnglesMaj.forEach((d: any) => {\n        if (opt.zeroTickAngle + this.tickSpacingMinDeg * counter === d) {\n          exists = 1;\n        }\n      });\n      if (exists === 0) {\n        this.tickAnglesMin.push(opt.zeroTickAngle + this.tickSpacingMinDeg * counter);\n      }\n      counter++;\n    }\n    // Calculate major tick mark label text\n    counter = 0;\n    this.tickLabelText = [] as any;\n    for (let k = this.opt.zeroTickAngle; k <= this.opt.maxTickAngle; k = k + this.tickSpacingMajDeg) {\n      const tickValue = this.opt.minVal + this.opt.tickSpaceMajVal * counter;\n      const parts = this.opt.tickSpaceMajVal.toString().split('.');\n      let tickText = tickValue;\n      if (parts.length > 1) {\n        tickText = Number(tickValue).toFixed(parts[1].length);\n      }\n      // check if there are tickMaps that apply\n      const tickTextFloat = parseFloat(tickText);\n      for (let i = 0; i < this.opt.tickMaps.length; i++) {\n        const aTickMap = this.opt.tickMaps[i];\n        if (parseFloat(aTickMap.value) === tickTextFloat) {\n          tickText = aTickMap.text;\n          break;\n        }\n      }\n      this.tickLabelText.push(tickText);\n      counter++;\n    }\n    // Add the svg content holder to the visualisation box element in the document (vizbox)\n    // let svgWidth = opt.gaugeRadius * 2, svgHeight = opt.gaugeRadius * 2;\n    // Draw the circles that make up the edge of the gauge\n    this.circleGroup = this.createCircleGroup();\n    if (this.opt.showThresholdOnGauge && this.opt.thresholds.length > 0) {\n      // split the threshold values\n      const boundaries = this.opt.thresholds.split(',');\n      if (this.opt.showLowerThresholdRange) {\n        this.drawBand(this.opt.minVal, parseFloat(boundaries[0]), this.opt.thresholdColors[0]);\n      }\n      if (this.opt.showMiddleThresholdRange) {\n        this.drawBand(parseFloat(boundaries[0]), parseFloat(boundaries[1]), this.opt.thresholdColors[1]);\n      }\n      if (this.opt.showUpperThresholdRange) {\n        this.drawBand(parseFloat(boundaries[1]), this.opt.maxVal, this.opt.thresholdColors[2]);\n      }\n    }\n    const pathTickMaj = this.tickCalcMaj();\n    const pathTickMin = this.tickCalcMin();\n    // Add a group to hold the ticks\n    const ticks = this.svg.append('svg:g').attr('id', 'tickMarks');\n    // Add a groups for major and minor ticks (minor first, so majors overlay)\n    const ticksMin = ticks.append('svg:g').attr('id', 'minorTickMarks');\n    const ticksMaj = ticks.append('svg:g').attr('id', 'majorTickMarks');\n    // Draw the tick marks\n    ticksMin\n      .selectAll('path')\n      .data(this.tickAnglesMin)\n      .enter()\n      .append('path')\n      .attr('d', pathTickMin)\n      .style('stroke', this.opt.tickColMin)\n      .style('stroke-width', this.opt.tickWidthMin + 'px');\n    ticksMaj\n      .selectAll('path')\n      .data(this.tickAnglesMaj)\n      .enter()\n      .append('path')\n      .attr('d', pathTickMaj)\n      .style('stroke', this.opt.tickColMaj)\n      .style('stroke-width', this.opt.tickWidthMaj + 'px');\n    // Add labels for major tick marks\n    const tickLabels = this.svg.append('svg:g').attr('id', 'tickLabels');\n    tickLabels\n      .selectAll('text')\n      .data(this.tickAnglesMaj)\n      .enter()\n      .append('text')\n      .attr('x', (d: any, i: any) => {\n        return this.labelXcalc(d, i);\n      })\n      .attr('y', (d: any, i: any) => {\n        return this.labelYcalc(d, i);\n      })\n      .attr('font-size', this.opt.labelFontSize)\n      .attr('text-anchor', 'middle')\n      .style('fill', this.opt.tickLabelCol)\n      .style('font-weight', 'bold')\n      .attr('font-family', this.opt.tickFont)\n      .text((d: any, i: any) => {\n        return this.tickLabelText[i];\n      });\n    // Add label for units\n    this.valueLabelParent = svg.append('svg:g').attr('id', 'valueLabels');\n    this.valueLabel = this.valueLabelParent\n      .selectAll('text')\n      .data([0])\n      .enter()\n      .append('text')\n      .attr('x', (d: any, i: any) => {\n        return this.labelXcalc(d, i);\n      })\n      .attr('y', (d: any, i: any) => {\n        let y = this.labelYcalc(d, i);\n        y = y + this.opt.valueYOffset;\n        return y;\n      })\n      .attr('font-size', this.opt.unitsLabelFontSize)\n      .attr('text-anchor', 'middle')\n      .style('fill', this.opt.unitsLabelCol)\n      .style('font-weight', 'bold')\n      .attr('font-family', this.opt.unitsFont)\n      .text(this.opt.needleValText); // was just the units, nothing formatted\n    // Draw needle\n    const needleAngle = [this.opt.zeroNeedleAngle];\n    // Define a function for calculating the coordinates of the needle paths (see tick mark equivalent)\n    const pathNeedle = this.needleCalc();\n    // Add a group to hold the needle path\n    this.needleGroup = this.svg.append('svg:g').attr('id', 'needle');\n    // Draw the needle path\n    const needlePath = this.needleGroup\n      .selectAll('path')\n      .data(needleAngle)\n      .enter()\n      .append('path')\n      .attr('d', pathNeedle)\n      .style('stroke', this.opt.needleCol)\n      .style('stroke-width', this.opt.needleWidth + 'px');\n    // Animate the transistion of the needle to its starting value\n    let transitionSpeed = 0;\n    if (this.opt.animateNeedleValueTransition) {\n      transitionSpeed = this.opt.animateNeedleValueTransitionSpeed;\n    }\n    needlePath\n      .transition()\n      .duration(transitionSpeed)\n      .ease(d3.easeQuadIn)\n      .attrTween('transform', (d: any, i: any, a: any) => {\n        let needleAngle = this.valueScale(this.opt.needleVal);\n        // Check for min/max ends of the needle\n        if (needleAngle > this.opt.maxTickAngle) {\n          needleAngle = this.opt.maxNeedleAngle;\n        }\n        if (needleAngle < this.opt.zeroTickAngle) {\n          needleAngle = this.opt.zeroNeedleAngle;\n        }\n        const needleCentre = this.originX + ',' + this.originY;\n        const needleRot = needleAngle - this.opt.zeroNeedleAngle;\n        return d3.interpolateString('rotate(0,' + needleCentre + ')', 'rotate(' + needleRot + ',' + needleCentre + ')');\n      });\n    this.valueLabelParent.selectAll('text').text(this.opt.needleValText);\n  }\n\n  // Function to update the gauge value\n  updateGauge(newVal: any, newValFormatted: any, newValRounded: any) {\n    // Set default values if necessary\n    if (newVal === undefined) {\n      newVal = this.opt.minVal;\n    }\n    // Animate the transistion of the needle to its new value\n    const needlePath = this.needleGroup.selectAll('path');\n    const oldVal = this.opt.needleVal;\n    // snap to new location by default\n    let transitionSpeed = 0;\n    if (this.opt.animateNeedleValueTransition) {\n      transitionSpeed = this.opt.animateNeedleValueTransitionSpeed;\n    }\n    needlePath\n      .transition()\n      .duration(transitionSpeed)\n      .ease(d3.easeQuadIn)\n      .attrTween('transform', (d: any, i: any, a: any) => {\n        let needleAngleOld = this.valueScale(oldVal) - this.opt.zeroNeedleAngle;\n        let needleAngleNew = this.valueScale(newVal) - this.opt.zeroNeedleAngle;\n        // Check for min/max ends of the needle\n        if (needleAngleOld + this.opt.zeroNeedleAngle > this.opt.maxTickAngle) {\n          needleAngleOld = this.opt.maxNeedleAngle - this.opt.zeroNeedleAngle;\n        }\n        if (needleAngleOld + this.opt.zeroNeedleAngle < this.opt.zeroTickAngle) {\n          needleAngleOld = 0;\n        }\n        if (needleAngleNew + this.opt.zeroNeedleAngle > this.opt.maxTickAngle) {\n          needleAngleNew = this.opt.maxNeedleAngle - this.opt.zeroNeedleAngle;\n        }\n        if (needleAngleNew + this.opt.zeroNeedleAngle < this.opt.zeroTickAngle) {\n          needleAngleNew = 0;\n        }\n        const needleCentre = this.originX + ',' + this.originY;\n        return d3.interpolateString('rotate(' + needleAngleOld + ',' + needleCentre + ')', 'rotate(' + needleAngleNew + ',' + needleCentre + ')');\n      });\n    let valueThresholdColor = this.opt.unitsLabelCol;\n    if (this.opt.showThresholdColorOnValue) {\n      const boundaries = this.opt.thresholds.split(',');\n      if (newVal < parseFloat(boundaries[0])) {\n        valueThresholdColor = this.opt.thresholdColors[0];\n      }\n      if (newVal > parseFloat(boundaries[0]) && newVal <= parseFloat(boundaries[1])) {\n        valueThresholdColor = this.opt.thresholdColors[1];\n      }\n      if (newVal >= parseFloat(boundaries[1])) {\n        valueThresholdColor = this.opt.thresholdColors[2];\n      }\n    }\n    // fill color\n    this.valueLabel.style('fill', valueThresholdColor);\n    this.valueLabelParent.selectAll('text').text(newValFormatted);\n    // Update the current value\n    this.opt.needleVal = newVal;\n  }\n\n  initOptDefaults(opt: any) {\n    if (typeof opt.gaugeRadius === 'undefined') {\n      opt.gaugeRadius = 200;\n    }\n    if (typeof opt.minVal === 'undefined') {\n      opt.minVal = 0;\n    }\n    if (typeof opt.maxVal === 'undefined') {\n      opt.maxVal = 100;\n    }\n    if (typeof opt.tickSpaceMinVal === 'undefined') {\n      opt.tickSpaceMinVal = 1;\n    }\n    if (typeof opt.tickSpaceMajVal === 'undefined') {\n      opt.tickSpaceMajVal = 10;\n    }\n    if (typeof opt.needleVal === 'undefined') {\n      opt.needleVal = 60;\n    }\n    if (typeof opt.needleValText === 'undefined') {\n      opt.needleValText = '60';\n    }\n    if (typeof opt.gaugeUnits === 'undefined') {\n      opt.gaugeUnits = '%';\n    }\n    if (typeof opt.padding === 'undefined') {\n      opt.padding = 0.05;\n    }\n    if (typeof opt.edgeWidth === 'undefined') {\n      opt.edgeWidth = 0.05;\n    }\n    if (typeof opt.tickEdgeGap === 'undefined') {\n      opt.tickEdgeGap = 0.05;\n    }\n    if (typeof opt.tickLengthMaj === 'undefined') {\n      opt.tickLengthMaj = 0.15;\n    }\n    if (typeof opt.tickLengthMin === 'undefined') {\n      opt.tickLengthMin = 0.05;\n    }\n    if (typeof opt.needleTickGap === 'undefined') {\n      opt.needleTickGap = 0.05;\n    }\n    if (typeof opt.needleLengthNeg === 'undefined') {\n      opt.needleLengthNeg = 0.2;\n    }\n    if (typeof opt.pivotRadius === 'undefined') {\n      opt.pivotRadius = 0.1;\n    }\n    if (typeof opt.ticknessGaugeBasis === 'undefined') {\n      opt.ticknessGaugeBasis = 200;\n    }\n    if (typeof opt.needleWidth === 'undefined') {\n      opt.needleWidth = 5;\n    }\n    if (typeof opt.tickWidthMaj === 'undefined') {\n      opt.tickWidthMaj = 3;\n    }\n    if (typeof opt.tickWidthMin === 'undefined') {\n      opt.tickWidthMin = 1;\n    }\n    if (typeof opt.labelFontSize === 'undefined') {\n      opt.labelFontSize = 18;\n    }\n    if (typeof opt.unitsLabelFontSize === 'undefined') {\n      opt.unitsLabelFontSize = 22;\n    }\n    if (typeof opt.zeroTickAngle === 'undefined') {\n      opt.zeroTickAngle = 60;\n    }\n    if (typeof opt.maxTickAngle === 'undefined') {\n      opt.maxTickAngle = 300;\n    }\n    if (typeof opt.zeroNeedleAngle === 'undefined') {\n      opt.zeroNeedleAngle = 40;\n    }\n    if (typeof opt.maxNeedleAngle === 'undefined') {\n      opt.maxNeedleAngle = 320;\n    }\n    if (typeof opt.tickColMaj === 'undefined') {\n      opt.tickColMaj = '#0099CC';\n    }\n    if (typeof opt.tickColMin === 'undefined') {\n      opt.tickColMin = '#000';\n    }\n    if (typeof opt.outerEdgeCol === 'undefined') {\n      opt.outerEdgeCol = '#0099CC';\n    }\n    if (typeof opt.pivotCol === 'undefined') {\n      opt.pivotCol = '#999';\n    }\n    if (typeof opt.innerCol === 'undefined') {\n      opt.innerCol = '#fff';\n    }\n    if (typeof opt.unitsLabelCol === 'undefined') {\n      opt.unitsLabelCol = '#000';\n    }\n    if (typeof opt.tickLabelCol === 'undefined') {\n      opt.tickLabelCol = '#000';\n    }\n    if (typeof opt.needleCol === 'undefined') {\n      opt.needleCol = '#0099CC';\n    }\n    this.defaultFonts = '\"Helvetica Neue\", Helvetica, Arial, sans-serif';\n    if (typeof opt.tickFont === 'undefined') {\n      opt.tickFont = this.defaultFonts;\n    }\n    if (typeof opt.unitsFont === 'undefined') {\n      opt.unitsFont = this.defaultFonts;\n    }\n    if (typeof opt.valueYOffset === 'undefined') {\n      opt.valueYOffset = 0;\n    }\n    if (typeof opt.showThresholdOnGauge === 'undefined') {\n      opt.showThresholdOnGauge = false;\n    }\n    if (typeof opt.showThresholdColorOnValue === 'undefined') {\n      opt.showThresholdColorOnValue = false;\n    }\n    if (typeof opt.showLowerThresholdRange === 'undefined') {\n      opt.showLowerThresholdRange = false;\n    }\n    if (typeof opt.showMiddleThresholdRange === 'undefined') {\n      opt.showMiddleThresholdRange = true;\n    }\n    if (typeof opt.showUpperThresholdRange === 'undefined') {\n      opt.showUpperThresholdRange = true;\n    }\n    if (typeof opt.thresholdColors === 'undefined') {\n      opt.thresholdColors = ['rgba(245, 54, 54, 0.9)', 'rgba(237, 129, 40, 0.89)', 'rgba(50, 172, 45, 0.97)'];\n    }\n    if (typeof opt.animateNeedleValueTransition === 'undefined') {\n      opt.animateNeedleValueTransition = true;\n    }\n    // default transition speed 500ms\n    if (typeof opt.animateNeedleValueTransitionSpeed === 'undefined') {\n      opt.animateNeedleValueTransitionSpeed = 100;\n    }\n    //\n    if (typeof opt.tickMaps === 'undefined') {\n      opt.tickMaps = [];\n    }\n    // Calculate absolute values\n    opt.padding = opt.padding * opt.gaugeRadius;\n    opt.edgeWidth = opt.edgeWidth * opt.gaugeRadius;\n    opt.tickEdgeGap = opt.tickEdgeGap * opt.gaugeRadius;\n    opt.tickLengthMaj = opt.tickLengthMaj * opt.gaugeRadius;\n    opt.tickLengthMin = opt.tickLengthMin * opt.gaugeRadius;\n    opt.needleTickGap = opt.needleTickGap * opt.gaugeRadius;\n    opt.needleLengthNeg = opt.needleLengthNeg * opt.gaugeRadius;\n    opt.pivotRadius = opt.pivotRadius * opt.gaugeRadius;\n    opt.needleWidth = opt.needleWidth * (opt.gaugeRadius / opt.ticknessGaugeBasis);\n    opt.tickWidthMaj = opt.tickWidthMaj * (opt.gaugeRadius / opt.ticknessGaugeBasis);\n    opt.tickWidthMin = opt.tickWidthMin * (opt.gaugeRadius / opt.ticknessGaugeBasis);\n    opt.labelFontSize = opt.labelFontSize * (opt.gaugeRadius / opt.ticknessGaugeBasis);\n    opt.unitsLabelFontSize = opt.unitsLabelFontSize * (opt.gaugeRadius / opt.ticknessGaugeBasis);\n    if (opt.labelFontSize < 6) {\n      opt.labelFontSize = 0;\n    }\n    return opt;\n  }\n\n  drawBand(start: any, end: any, color: any) {\n    if (0 >= end - start) {\n      return;\n    }\n    this.circleGroup\n      .append('svg:path')\n      .style('fill', color)\n      .attr(\n        'd',\n        d3\n          .arc()\n          .startAngle(this.valueToRadians(start))\n          .endAngle(this.valueToRadians(end))\n          .innerRadius(0.7 * this.opt.gaugeRadius)\n          .outerRadius(0.85 * this.opt.gaugeRadius)\n      )\n      .attr('transform', () => {\n        return 'translate(' + this.originX + ', ' + this.originY + ') rotate(' + this.opt.maxTickAngle + ')';\n      });\n  }\n\n  createCircleGroup() {\n    const circleGroup = this.svg.append('svg:g').attr('id', 'circles');\n    circleGroup\n      .append('svg:circle')\n      .attr('cx', this.originX)\n      .attr('cy', this.originY)\n      .attr('r', this.outerEdgeRadius)\n      .style('fill', this.opt.outerEdgeCol)\n      .style('stroke', 'none');\n    circleGroup\n      .append('svg:circle')\n      .attr('cx', this.originX)\n      .attr('cy', this.originY)\n      .attr('r', this.innerEdgeRadius)\n      .style('fill', this.opt.innerCol)\n      .style('stroke', 'none');\n    // Draw the circle for the needle 'pivot'\n    circleGroup\n      .append('svg:circle')\n      .attr('cx', this.originX)\n      .attr('cy', this.originY)\n      .attr('r', this.opt.pivotRadius)\n      .style('fill', this.opt.pivotCol)\n      .style('stroke', 'none');\n    return circleGroup;\n  }\n  valueToDegrees(value: any) {\n    // degree range is from 60 to 300 (240)  maxTickAngle - zeroTickAngle\n    const degreeRange = this.opt.maxTickAngle - this.opt.zeroTickAngle;\n    const range = this.opt.maxVal - this.opt.minVal;\n    const min = this.opt.minVal;\n    return (value / range) * degreeRange - ((min / range) * degreeRange + this.opt.zeroTickAngle);\n  }\n\n  valueToRadians(value: any) {\n    return (this.valueToDegrees(value) * Math.PI) / 180;\n  }\n\n  // Define two functions for calculating the coordinates of the major & minor tick mark paths\n  tickCalcMaj() {\n    return (d: any, i: any) => {\n      // Offset the tick mark angle so zero is vertically down, then convert to radians\n      const tickAngle = d + 90;\n      const tickAngleRad = dToR(tickAngle);\n      const y1 = this.originY + this.tickStartMaj * Math.sin(tickAngleRad);\n      const y2 = this.originY + (this.tickStartMaj + this.opt.tickLengthMaj) * Math.sin(tickAngleRad);\n      const x1 = this.originX + this.tickStartMaj * Math.cos(tickAngleRad);\n      const x2 = this.originX + (this.tickStartMaj + this.opt.tickLengthMaj) * Math.cos(tickAngleRad);\n      // Use a D3.JS path generator\n      const lineSVG = d3.line()([\n        [x1, y1],\n        [x2, y2],\n      ]);\n      return lineSVG;\n    };\n  }\n\n  tickCalcMin() {\n    return (d: any, i: any) => {\n      // Offset the tick mark angle so zero is vertically down, then convert to radians\n      const tickAngle = d + 90;\n      const tickAngleRad = dToR(tickAngle);\n      const y1 = this.originY + this.tickStartMin * Math.sin(tickAngleRad);\n      const y2 = this.originY + (this.tickStartMin + this.opt.tickLengthMin) * Math.sin(tickAngleRad);\n      const x1 = this.originX + this.tickStartMin * Math.cos(tickAngleRad);\n      const x2 = this.originX + (this.tickStartMin + this.opt.tickLengthMin) * Math.cos(tickAngleRad);\n      const lineSVG = d3.line()([\n        [x1, y1],\n        [x2, y2],\n      ]);\n      return lineSVG;\n    };\n  }\n\n  needleCalc() {\n    return (d: any, i: any) => {\n      const nAngleRad = dToR(d + 90);\n      const y1 = this.originY + this.needlePathStart * Math.sin(nAngleRad);\n      const y2 = this.originY + (this.needlePathStart + this.needlePathLength) * Math.sin(nAngleRad);\n      const x1 = this.originX + this.needlePathStart * Math.cos(nAngleRad);\n      const x2 = this.originX + (this.needlePathStart + this.needlePathLength) * Math.cos(nAngleRad);\n      const lineSVG = d3.line()([\n        [x1, y1],\n        [x2, y2],\n      ]);\n      return lineSVG;\n    };\n  }\n\n  // Define functions to calcuate the positions of the labels for the tick marks\n  labelXcalc(d: any, i: any) {\n    const tickAngle = d + 90;\n    const tickAngleRad = dToR(tickAngle);\n    const labelW = this.opt.labelFontSize / (this.tickLabelText[i].toString().length / 2);\n    const x1 = this.originX + (this.labelStart - labelW) * Math.cos(tickAngleRad);\n    return x1;\n  }\n\n  labelYcalc(d: any, i: any) {\n    const tickAngle = d + 90;\n    const tickAngleRad = dToR(tickAngle);\n    const y1 = this.originY + this.labelStart * Math.sin(tickAngleRad) + this.opt.labelFontSize / 2;\n    return y1;\n  }\n}\n\nfunction dToR(angleDeg: any) {\n  // Turns an angle in degrees to radians\n  const angleRad = angleDeg * (Math.PI / 180);\n  return angleRad;\n}\n","import { MetricsPanelCtrl } from 'grafana/app/plugins/sdk';\nimport _ from 'lodash';\nimport $ from 'jquery';\nimport kbn from 'grafana/app/core/utils/kbn';\nimport TimeSeries from 'grafana/app/core/time_series2';\nimport * as d3 from 'd3';\n\nimport { panelDefaults } from './defaults';\nimport { DrawGauge } from './libs/d3gauge';\n\nexport class D3GaugePanelCtrl extends MetricsPanelCtrl {\n  static templateUrl = 'partials/template.html';\n\n  containerDivId: any;\n  scoperef: any;\n  alertSrvRef: any;\n  initialized: boolean;\n  panelContainer: any;\n  svg: any;\n  panelWidth: any;\n  panelHeight: any;\n  gaugeObject: any;\n  data: any;\n  series: any;\n\n  /** @ngInject */\n  constructor($scope: any, $injector: any, alertSrv: any) {\n    super($scope, $injector);\n    // merge existing settings with our defaults\n    _.defaults(this.panel, panelDefaults);\n    this.panel.gaugeDivId = 'd3gauge_svg_' + this.panel.id;\n    this.containerDivId = 'container_' + this.panel.gaugeDivId;\n    this.scoperef = $scope;\n    this.alertSrvRef = alertSrv;\n    this.initialized = false;\n    this.panelContainer = null;\n    this.panel.svgContainer = null;\n    this.svg = null;\n    this.panelWidth = null;\n    this.panelHeight = null;\n    this.gaugeObject = null;\n    this.data = {\n      value: 0,\n      valueFormatted: 0,\n      valueRounded: 0,\n    };\n    this.series = [];\n    this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\n    this.events.on('data-received', this.onDataReceived.bind(this));\n    this.events.on('data-error', this.onDataError.bind(this));\n    this.events.on('data-snapshot-load', this.onDataReceived.bind(this));\n  }\n\n  onInitEditMode() {\n    // determine the path to this plugin\n    const thisPanelPath = 'public/plugins/' + this.panel.type + '/';\n    // add the relative path to the partial\n    const optionsPath = thisPanelPath + 'partials/editor.options.html';\n    this.addEditorTab('Options', optionsPath, 2);\n    const radialMetricsPath = thisPanelPath + 'partials/editor.radialmetrics.html';\n    this.addEditorTab('Radial Metrics', radialMetricsPath, 3);\n    const thresholdingPath = thisPanelPath + 'partials/editor.thresholding.html';\n    this.addEditorTab('Thresholding', thresholdingPath, 4);\n    const mappingsPath = thisPanelPath + 'partials/editor.mappings.html';\n    this.addEditorTab('Value Mappings', mappingsPath, 5);\n  }\n\n  /**\n   * [setContainer description]\n   * @param {[type]} container [description]\n   */\n  setContainer(container: any) {\n    this.panelContainer = container;\n    this.panel.svgContainer = container;\n  }\n\n  // determine the width of a panel by the span and viewport\n  getPanelWidthBySpan() {\n    let trueWidth = 0;\n    if (typeof this.panel.span === 'undefined') {\n      // get the width based on the scaled container (v5 needs this)\n      trueWidth = this.panelContainer.offsetParent.clientWidth;\n    } else {\n      // v4 and previous used fixed spans\n      const viewPortWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n      // get the pixels of a span\n      const pixelsPerSpan = viewPortWidth / 12;\n      // multiply num spans by pixelsPerSpan\n      trueWidth = Math.round(this.panel.span * pixelsPerSpan);\n    }\n    return trueWidth;\n  }\n\n  getPanelHeight() {\n    // panel can have a fixed height set via \"General\" tab in panel editor\n    let tmpPanelHeight = this.panel.height;\n    if (typeof tmpPanelHeight === 'undefined' || tmpPanelHeight === '') {\n      // grafana also supplies the height, try to use that if the panel does not have a height\n      tmpPanelHeight = String(this.height);\n      // v4 and earlier define this height, detect span for pre-v5\n      if (typeof this.panel.span !== 'undefined') {\n        // if there is no header, adjust height to use all space available\n        let panelTitleOffset = 20;\n        if (this.panel.title !== '') {\n          panelTitleOffset = 42;\n        }\n        tmpPanelHeight = String(this.containerHeight - panelTitleOffset); // offset for header\n      }\n      if (typeof tmpPanelHeight === 'undefined') {\n        // height still cannot be determined, get it from the row instead\n        tmpPanelHeight = this.row.height;\n        if (typeof tmpPanelHeight === 'undefined') {\n          // last resort - default to 250px (this should never happen)\n          tmpPanelHeight = '250';\n        }\n      }\n    }\n    // replace px\n    tmpPanelHeight = tmpPanelHeight.replace('px', '');\n    // convert to numeric value\n    const actualHeight = parseInt(tmpPanelHeight, 10);\n    return actualHeight;\n  }\n\n  renderGauge() {\n    // update the values to be sent to the gauge constructor\n    this.setValues(this.data);\n    if ($('#' + this.panel.gaugeDivId).length) {\n      $('#' + this.panel.gaugeDivId).remove();\n    }\n    this.panelWidth = this.getPanelWidthBySpan();\n    this.panelHeight = this.getPanelHeight();\n    const margin = { top: 0, right: 0, bottom: 0, left: 0 };\n\n    // check which is smaller, the height or the width and set the radius to be half of the lesser\n    let tmpGaugeRadius = parseFloat(this.panel.gauge.gaugeRadius);\n    // autosize if radius is set to zero\n    if (this.panel.gauge.gaugeRadius === 0) {\n      tmpGaugeRadius = this.panelHeight / 2;\n      if (this.panelWidth < this.panelHeight) {\n        tmpGaugeRadius = this.panelWidth / 2;\n        if (typeof this.panel.span !== 'undefined' && this.panel.title !== '') {\n          // using the width requires more margin in pre-v5\n          tmpGaugeRadius -= 5;\n        }\n      }\n    }\n    // calculate top margin\n    const verticalOffset = Math.round(this.panelHeight - tmpGaugeRadius * 2) / 2;\n    margin.top = verticalOffset;\n    // pre-v5, with title, set top margin to at least 7px\n    if (typeof this.panel.span !== 'undefined' && this.panel.title !== '') {\n      if (verticalOffset < 7) {\n        margin.top = 7;\n      }\n    }\n    margin.bottom = verticalOffset;\n\n    // set the width and height to be double the radius\n    const svg = d3\n      .select(this.panel.svgContainer)\n      .append('svg')\n      .style('margin-top', margin.top + 'px')\n      .style('margin-bottom', margin.bottom + 'px')\n      .style('margin-left', margin.left + 'px')\n      .style('margin-right', margin.right + 'px')\n      .attr('width', Math.round(tmpGaugeRadius * 2) + 'px')\n      .attr('height', Math.round(tmpGaugeRadius * 2) + 'px')\n      .attr('id', this.panel.gaugeDivId)\n      .classed('svg-content-responsive', true)\n      .append('g');\n\n    const opt = {\n      minVal: this.panel.gauge.minValue,\n      maxVal: this.panel.gauge.maxValue,\n      tickSpaceMinVal: this.panel.gauge.tickSpaceMinVal,\n      tickSpaceMajVal: this.panel.gauge.tickSpaceMajVal,\n      gaugeUnits: this.panel.format,\n      gaugeRadius: tmpGaugeRadius,\n      pivotRadius: this.panel.gauge.pivotRadius,\n      padding: this.panel.gauge.padding,\n      edgeWidth: this.panel.gauge.edgeWidth,\n      tickEdgeGap: this.panel.gauge.tickEdgeGap,\n      tickLengthMaj: this.panel.gauge.tickLengthMaj,\n      tickLengthMin: this.panel.gauge.tickLengthMin,\n      needleTickGap: this.panel.gauge.needleTickGap,\n      needleLengthNeg: this.panel.gauge.needleLengthNeg,\n      ticknessGaugeBasis: this.panel.gauge.ticknessGaugeBasis,\n      needleWidth: this.panel.gauge.needleWidth,\n      tickWidthMaj: this.panel.gauge.tickWidthMaj,\n      tickWidthMin: this.panel.gauge.tickWidthMin,\n      unitsLabelFontSize: this.panel.gauge.unitsLabelFontSize,\n      labelFontSize: this.panel.gauge.labelFontSize,\n      zeroTickAngle: this.panel.gauge.zeroTickAngle,\n      maxTickAngle: this.panel.gauge.maxTickAngle,\n      zeroNeedleAngle: this.panel.gauge.zeroNeedleAngle,\n      maxNeedleAngle: this.panel.gauge.maxNeedleAngle,\n      outerEdgeCol: this.panel.gauge.outerEdgeCol,\n      innerCol: this.panel.gauge.innerCol,\n      pivotCol: this.panel.gauge.pivotCol,\n      needleCol: this.panel.gauge.needleCol,\n      unitsLabelCol: this.panel.gauge.unitsLabelCol,\n      tickLabelCol: this.panel.gauge.tickLabelCol,\n      tickColMaj: this.panel.gauge.tickColMaj,\n      tickColMin: this.panel.gauge.tickColMin,\n      thresholds: this.panel.thresholds,\n      showThresholdColorOnValue: this.panel.gauge.showThresholdColorOnValue,\n      showThresholdOnGauge: this.panel.gauge.showThresholdOnGauge,\n      showLowerThresholdRange: this.panel.gauge.showLowerThresholdRange,\n      showMiddleThresholdRange: this.panel.gauge.showMiddleThresholdRange,\n      showUpperThresholdRange: this.panel.gauge.showUpperThresholdRange,\n      thresholdColors: this.panel.colors,\n      needleValText: this.getValueText(),\n      needleVal: this.getValueRounded(),\n      tickFont: this.panel.gauge.tickFont,\n      unitsFont: this.panel.gauge.unitsFont,\n      valueYOffset: this.panel.gauge.valueYOffset,\n      animateNeedleValueTransition: this.panel.gauge.animateNeedleValueTransition,\n      animateNeedleValueTransitionSpeed: this.panel.gauge.animateNeedleValueTransitionSpeed,\n      tickMaps: this.panel.tickMaps,\n    };\n    this.gaugeObject = new DrawGauge(svg, opt);\n    this.svg = svg;\n  }\n\n  removeValueMap(map: any) {\n    const index = _.indexOf(this.panel.valueMaps, map);\n    this.panel.valueMaps.splice(index, 1);\n    this.render();\n  }\n\n  addValueMap() {\n    this.panel.valueMaps.push({ value: '', op: '=', text: '' });\n  }\n\n  removeRangeMap(rangeMap: any) {\n    const index = _.indexOf(this.panel.rangeMaps, rangeMap);\n    this.panel.rangeMaps.splice(index, 1);\n    this.render();\n  }\n\n  addRangeMap() {\n    this.panel.rangeMaps.push({ from: '', to: '', text: '' });\n  }\n\n  addTickMap() {\n    this.panel.tickMaps.push({ value: 0, text: '' });\n  }\n  removeTickMap(tickMap: any) {\n    const index = _.indexOf(this.panel.tickMaps, tickMap);\n    this.panel.tickMaps.splice(index, 1);\n    this.render();\n  }\n\n  /**\n   * Ensure the min value is less than the max value, auto-adjust as needed\n   * @return void\n   */\n  validateLimitsMinValue() {\n    if (this.panel.gauge.minValue >= this.panel.gauge.maxValue) {\n      // set the maxValue to be the same as the minValue+1\n      this.panel.gauge.maxValue = this.panel.gauge.minValue + 1;\n      this.alertSrvRef.set(\n        'Problem!',\n        'Minimum Value cannot be equal to or greater than Max Value, auto-adjusting Max Value to Minimum+1 (' + this.panel.gauge.maxValue + ')',\n        'warning',\n        10000\n      );\n    }\n    this.render();\n  }\n\n  /**\n   * Ensure the max value is greater than the min value, auto-adjust as needed\n   * @return void\n   */\n  validateLimitsMaxValue() {\n    if (this.panel.gauge.maxValue <= this.panel.gauge.minValue) {\n      // set the minValue to be the same as the maxValue-1\n      this.panel.gauge.minValue = this.panel.gauge.maxValue - 1;\n      this.alertSrvRef.set(\n        'Problem!',\n        'Maximum Value cannot be equal to or less than Min Value, auto-adjusting Min Value to Maximum-1 (' + this.panel.gauge.minValue + ')',\n        'warning',\n        10000\n      );\n    }\n    this.render();\n  }\n\n  validateTransitionValue() {\n    if (this.panel.gauge.animateNeedleValueTransitionSpeed === null) {\n      this.panel.gauge.animateNeedleValueTransitionSpeed = 100;\n    }\n    if (this.panel.gauge.animateNeedleValueTransitionSpeed < 0) {\n      this.panel.gauge.animateNeedleValueTransitionSpeed = 0;\n    }\n    if (this.panel.gauge.animateNeedleValueTransitionSpeed > 60000) {\n      this.panel.gauge.animateNeedleValueTransitionSpeed = 60000;\n    }\n    this.render();\n  }\n\n  // sanity check for tick degree settings\n  validateGaugeTickDegreeValues() {\n    if (\n      this.panel.gauge.zeroTickAngle === null ||\n      this.panel.gauge.zeroTickAngle === '' ||\n      this.panel.gauge.zeroTickAngle < 0 ||\n      isNaN(this.panel.gauge.zeroTickAngle)\n    ) {\n      // alert about the error, and set it to 60\n      this.panel.gauge.zeroTickAngle = 60;\n      this.alertSrvRef.set('Problem!', 'Invalid Value for Zero Tick Angle, auto-setting to default of 60', 'error', 10000);\n    }\n\n    if (\n      this.panel.gauge.maxTickAngle === null ||\n      this.panel.gauge.maxTickAngle === '' ||\n      this.panel.gauge.maxTickAngle < 0 ||\n      isNaN(this.panel.gauge.maxTickAngle)\n    ) {\n      // alert about the error, and set it to 320\n      this.panel.gauge.maxTickAngle = 320;\n      this.alertSrvRef.set('Problem!', 'Invalid Value for Max Tick Angle, auto-setting to default of 320', 'error', 10000);\n    }\n\n    const gaugeTickDegrees = this.panel.gauge.maxTickAngle - this.panel.gauge.zeroTickAngle;\n    // make sure the total degrees does not exceed 360\n    if (gaugeTickDegrees > 360) {\n      // set to default values and alert\n      this.panel.gauge.zeroTickAngle = 60;\n      this.panel.gauge.maxTickAngle = 320;\n      this.alertSrvRef.set('Problem!', 'Gauge tick angle difference is larger than 360 degrees, auto-setting to default values', 'error', 10000);\n    }\n    // make sure it is \"positive\"\n    if (gaugeTickDegrees < 0) {\n      // set to default values and alert\n      this.panel.gauge.zeroTickAngle = 60;\n      this.panel.gauge.maxTickAngle = 320;\n      this.alertSrvRef.set('Problem!', 'Gauge tick angle difference is less than 0 degrees, auto-setting to default values', 'error', 10000);\n    }\n\n    // render\n    this.render();\n  }\n\n  // sanity check for Needle degree settings\n  validateGaugeNeedleDegreeValues() {\n    if (\n      this.panel.gauge.zeroNeedleAngle === null ||\n      this.panel.gauge.zeroNeedleAngle === '' ||\n      this.panel.gauge.zeroNeedleAngle < 0 ||\n      isNaN(this.panel.gauge.zeroNeedleAngle)\n    ) {\n      // alert about the error, and set it to 60\n      this.panel.gauge.zeroNeedleAngle = 60;\n      this.alertSrvRef.set('Problem!', 'Invalid Value for Zero Needle Angle, auto-setting to default of 60', 'error', 10000);\n    }\n\n    if (\n      this.panel.gauge.maxNeedleAngle === null ||\n      this.panel.gauge.maxNeedleAngle === '' ||\n      this.panel.gauge.maxNeedleAngle < 0 ||\n      isNaN(this.panel.gauge.maxNeedleAngle)\n    ) {\n      // alert about the error, and set it to 320\n      this.panel.gauge.maxNeedleAngle = 320;\n      this.alertSrvRef.set('Problem!', 'Invalid Value for Max Needle Angle, auto-setting to default of 320', 'error', 10000);\n    }\n\n    const gaugeNeedleDegrees = this.panel.gauge.maxNeedleAngle - this.panel.gauge.zeroNeedleAngle;\n    // make sure the total degrees does not exceed 360\n    if (gaugeNeedleDegrees > 360) {\n      // set to default values and alert\n      this.panel.gauge.zeroNeedleAngle = 60;\n      this.panel.gauge.maxNeedleAngle = 320;\n      this.alertSrvRef.set('Problem!', 'Gauge needle angle difference is larger than 360 degrees, auto-setting to default values', 'error', 10000);\n    }\n    // make sure it is \"positive\"\n    if (gaugeNeedleDegrees < 0) {\n      // set to default values and alert\n      this.panel.gauge.zeroNeedleAngle = 60;\n      this.panel.gauge.maxNeedleAngle = 320;\n      this.alertSrvRef.set('Problem!', 'Gauge needle angle difference is less than 0 degrees, auto-setting to default values', 'error', 10000);\n    }\n\n    // render\n    this.render();\n  }\n\n  validateRadialMetricValues() {\n    // make sure the spacing values are valid\n    if (this.panel.gauge.tickSpaceMinVal === null || this.panel.gauge.tickSpaceMinVal === '' || isNaN(this.panel.gauge.tickSpaceMinVal)) {\n      // alert about the error, and set it to 1\n      this.panel.gauge.tickSpaceMinVal = 1;\n      this.alertSrvRef.set('Problem!', 'Invalid Value for Tick Spacing Minor, auto-setting back to default of 1', 'error', 10000);\n    }\n    if (this.panel.gauge.tickSpaceMajVal === null || this.panel.gauge.tickSpaceMajVal === '' || isNaN(this.panel.gauge.tickSpaceMajVal)) {\n      // alert about the error, and set it to 10\n      this.panel.gauge.tickSpaceMajVal = 10;\n      this.alertSrvRef.set('Problem!', 'Invalid Value for Tick Spacing Major, auto-setting back to default of 10', 'error', 10000);\n    }\n    if (\n      this.panel.gauge.gaugeRadius === null ||\n      this.panel.gauge.gaugeRadius === '' ||\n      isNaN(this.panel.gauge.gaugeRadius) ||\n      this.panel.gauge.gaugeRadius < 0\n    ) {\n      // alert about the error, and set it to 0\n      this.panel.gauge.gaugeRadius = 0;\n      this.alertSrvRef.set('Problem!', 'Invalid Value for Gauge Radius, auto-setting back to default of 0', 'error', 10000);\n    }\n    this.render();\n  }\n\n  link(scope: any, elem: any, attrs: any, ctrl: any) {\n    const gaugeByClass = elem.find('.grafana-d3-gauge');\n    gaugeByClass.append('<div id=\"' + ctrl.containerDivId + '\"></div>');\n    const container = gaugeByClass[0].childNodes[0];\n    ctrl.setContainer(container);\n    function render() {\n      ctrl.renderGauge();\n    }\n    this.events.on('render', () => {\n      render();\n      ctrl.renderingCompleted();\n    });\n  }\n\n  getDecimalsForValue(value: any) {\n    if (_.isNumber(this.panel.decimals)) {\n      return { decimals: this.panel.decimals, scaledDecimals: null };\n    }\n\n    const delta = value / 2;\n    let dec = -Math.floor(Math.log(delta) / Math.LN10);\n\n    const magn = Math.pow(10, -dec);\n    const norm = delta / magn; // norm is between 1.0 and 10.0\n    let size = 1;\n\n    if (norm < 1.5) {\n      size = 1;\n    } else if (norm < 3) {\n      size = 2;\n      // special case for 2.5, requires an extra decimal\n      if (norm > 2.25) {\n        size = 2.5;\n        ++dec;\n      }\n    } else if (norm < 7.5) {\n      size = 5;\n    } else {\n      size = 10;\n    }\n\n    size *= magn;\n\n    // reduce starting decimals if not needed\n    if (Math.floor(value) === value) {\n      dec = 0;\n    }\n\n    const result = {\n      decimals: 0,\n      scaledDecimals: 0,\n    };\n    result.decimals = Math.max(0, dec);\n    result.scaledDecimals = result.decimals - Math.floor(Math.log(size) / Math.LN10) + 2;\n    return result;\n  }\n\n  setValues(data: any) {\n    data.flotpairs = [];\n    if (this.series.length > 1) {\n      const error = new Error();\n      error.message = 'Multiple Series Error';\n      error.stack =\n        'Metric query returns ' +\n        this.series.length +\n        ' series. Single Stat Panel expects a single series.\\n\\nResponse:\\n' +\n        JSON.stringify(this.series);\n      throw error;\n    }\n\n    if (this.series && this.series.length > 0) {\n      const lastPoint = _.last(this.series[0].datapoints);\n      const lastValue = _.isArray(lastPoint) ? lastPoint[0] : null;\n\n      if (this.panel.operatorName === 'name') {\n        data.value = 0;\n        data.valueRounded = 0;\n        data.valueFormatted = this.series[0].alias;\n      } else if (_.isString(lastValue)) {\n        data.value = 0;\n        data.valueFormatted = _.escape(lastValue);\n        data.valueRounded = 0;\n      } else {\n        data.value = this.series[0].stats[this.panel.operatorName];\n        data.flotpairs = this.series[0].flotpairs;\n        const decimalInfo = this.getDecimalsForValue(data.value);\n        const formatFunc = kbn.valueFormats[this.panel.format];\n        data.valueFormatted = formatFunc(data.value, decimalInfo.decimals, decimalInfo.scaledDecimals);\n        data.valueRounded = kbn.roundValue(data.value, decimalInfo.decimals);\n      }\n\n      // Add $__name variable for using in prefix or postfix\n      data.scopedVars = {\n        __name: {\n          value: this.series[0].label,\n        },\n      };\n    }\n\n    // check value to text mappings if its enabled\n    if (this.panel.mappingType === 1) {\n      for (let i = 0; i < this.panel.valueMaps.length; i++) {\n        const map = this.panel.valueMaps[i];\n        // special null case\n        if (map.value === 'null') {\n          if (data.value === null || data.value === void 0) {\n            data.valueFormatted = map.text;\n            return;\n          }\n          continue;\n        }\n\n        // value/number to text mapping\n        const value = parseFloat(map.value);\n        if (value === data.valueRounded) {\n          data.valueFormatted = map.text;\n          return;\n        }\n      }\n    } else if (this.panel.mappingType === 2) {\n      for (let j = 0; j < this.panel.rangeMaps.length; j++) {\n        const rangeMap = this.panel.rangeMaps[j];\n        // special null case\n        if (rangeMap.from === 'null' && rangeMap.to === 'null') {\n          if (data.value === null || data.value === void 0) {\n            data.valueFormatted = rangeMap.text;\n            return;\n          }\n          continue;\n        }\n\n        // value/number to range mapping\n        const from = parseFloat(rangeMap.from);\n        const to = parseFloat(rangeMap.to);\n        if (to >= data.valueRounded && from <= data.valueRounded) {\n          data.valueFormatted = rangeMap.text;\n          return;\n        }\n      }\n    }\n\n    if (data.value === null || data.value === void 0) {\n      data.valueFormatted = 'no value';\n    }\n  }\n\n  getValueText() {\n    return this.data.valueFormatted;\n  }\n\n  getValueRounded() {\n    return this.data.valueRounded;\n  }\n\n  setUnitFormat(subItem: any) {\n    this.panel.format = subItem.value;\n    this.render();\n  }\n\n  onDataError(err: any) {\n    this.onDataReceived([]);\n  }\n\n  onDataReceived(dataList: any) {\n    this.series = dataList.map(this.seriesHandler.bind(this));\n    const data = {\n      value: 0,\n      valueFormatted: 0,\n      valueRounded: 0,\n    };\n    this.setValues(data);\n    this.data = data;\n    if (this.gaugeObject !== null) {\n      this.gaugeObject.updateGauge(data.value, data.valueFormatted, data.valueRounded);\n    } else {\n      // render gauge\n      this.render();\n    }\n  }\n\n  seriesHandler(seriesData: any) {\n    const series = new TimeSeries({\n      datapoints: seriesData.datapoints,\n      alias: seriesData.target,\n    });\n    series.flotpairs = series.getFlotPairs(this.panel.nullPointMode);\n    return series;\n  }\n\n  invertColorOrder() {\n    const tmp = this.panel.colors[0];\n    this.panel.colors[0] = this.panel.colors[2];\n    this.panel.colors[2] = tmp;\n    this.render();\n  }\n}\n","import { D3GaugePanelCtrl } from './ctrl';\nimport { loadPluginCss } from 'grafana/app/plugins/sdk';\n\nloadPluginCss({\n  dark: 'plugins/briangann-gauge-panel/styles/dark.css',\n  light: 'plugins/briangann-gauge-panel/styles/light.css',\n});\n\nexport { D3GaugePanelCtrl as PanelCtrl };\n"],"sourceRoot":""}